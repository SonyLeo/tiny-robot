import{O as k,i as h}from"./index.Dy6_zRnT.js";import{w,v as A}from"./theme.DV1eByah.js";import{d as z,a4 as i,h as B,C as n,c as V,o as S,j as s,G as r,k as o,w as D,a as I,F as M,_ as N}from"./framework.eghS62D6.js";const j={class:"actions"},F=z({__name:"Basic",setup(T){class c{constructor(){this.mockData=[{id:"m9zfbomexdm9pza",title:"安排日程",createdAt:1745744706662,updatedAt:1745744717297,messages:[{role:"user",content:"今天需要我帮你安排日程，规划旅行，还是起草一封邮件？"},{role:"assistant",content:'这是对 "今天需要我帮你安排日程，规划旅行，还是起草一封邮件？" 的模拟回复。'}],metadata:{}},{id:"m9zefqta1rihhpj",title:"写段文案",createdAt:1745743216510,updatedAt:1745744704671,messages:[{role:"user",content:"想写段文案、起个名字，还是来点灵感？"},{role:"assistant",content:'这是对 "想写段文案、起个名字，还是来点灵感？" 的模拟回复。'},{role:"user",content:"hello"},{role:"assistant",content:"你好！我是TinyRobot搭建的AI助手。你可以问我任何问题，我会尽力回答。"}],metadata:{}}]}async saveConversations(t){this.mockData=t}async loadConversations(){return this.mockData||[]}}const m=i(w,{style:{fontSize:"32px"}}),p=i(A,{style:{fontSize:"32px"}}),d={assistant:{placement:"start",avatar:m,maxWidth:"80%"},user:{placement:"end",avatar:p,maxWidth:"80%"}},u=new k({provider:"openai",defaultModel:"gpt-3.5-turbo",apiUrl:location.origin+"/tiny-robot/alpha/"}),v=new c,{state:a,messageManager:{messages:f},createConversation:_,switchConversation:b}=h({client:u,storage:v}),g=B(()=>a.conversations.map(e=>({label:e.title,value:e.id})));return console.log("state: ",a),(e,t)=>{const y=n("tr-bubble-list"),x=n("tiny-select"),C=n("tiny-button");return S(),V(M,null,[t[4]||(t[4]=s("h1",null,"会话",-1)),r(y,{items:o(f),roles:d},null,8,["items"]),s("div",j,[t[3]||(t[3]=s("span",null,[s("b",null,"切换会话")],-1)),r(x,{modelValue:o(a).currentId,options:g.value,onChange:t[0]||(t[0]=l=>o(b)(l))},null,8,["modelValue","options"]),r(C,{type:"info",onClick:t[1]||(t[1]=l=>o(_)())},{default:D(()=>[...t[2]||(t[2]=[I("创建新对话",-1)])]),_:1})])],64)}}}),G=N(F,[["__scopeId","data-v-7b4771f8"]]);export{G as default};
