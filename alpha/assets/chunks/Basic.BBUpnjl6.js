import{O as k,a1 as y,l as C,y as h,k as A}from"./theme.FCGLGkiy.js";import{x as b,l as B}from"./index.Y854Y0Ii.js";import{d as _,a4 as l,h as w,c as z,o as S,j as s,G as n,k as e,w as V,a as D,F as I,_ as M}from"./framework.CSeOnaMy.js";const N={class:"actions"},j=_({__name:"Basic",setup(F){class i{constructor(){this.mockData=[{id:"m9zfbomexdm9pza",title:"安排日程",createdAt:1745744706662,updatedAt:1745744717297,messages:[{role:"user",content:"今天需要我帮你安排日程，规划旅行，还是起草一封邮件？"},{role:"assistant",content:'这是对 "今天需要我帮你安排日程，规划旅行，还是起草一封邮件？" 的模拟回复。'}],metadata:{}},{id:"m9zefqta1rihhpj",title:"写段文案",createdAt:1745743216510,updatedAt:1745744704671,messages:[{role:"user",content:"想写段文案、起个名字，还是来点灵感？"},{role:"assistant",content:'这是对 "想写段文案、起个名字，还是来点灵感？" 的模拟回复。'},{role:"user",content:"hello"},{role:"assistant",content:"你好！我是TinyRobot搭建的AI助手。你可以问我任何问题，我会尽力回答。"}],metadata:{}}]}async saveConversations(t){this.mockData=t}async loadConversations(){return this.mockData||[]}}const c=l(h,{style:{fontSize:"32px"}}),d=l(A,{style:{fontSize:"32px"}}),m={assistant:{placement:"start",avatar:c,maxWidth:"80%"},user:{placement:"end",avatar:d,maxWidth:"80%"}},p=new b({provider:"openai",defaultModel:"gpt-3.5-turbo",apiUrl:location.origin+"/tiny-robot/alpha/"}),u=new i,{state:o,messageManager:{messages:f},createConversation:v,switchConversation:g}=B({client:p,storage:u}),x=w(()=>o.conversations.map(a=>({label:a.title,value:a.id})));return console.log("state: ",o),(a,t)=>(S(),z(I,null,[t[4]||(t[4]=s("h1",null,"会话",-1)),n(e(k),{items:e(f),roles:m},null,8,["items"]),s("div",N,[t[3]||(t[3]=s("span",null,[s("b",null,"切换会话")],-1)),n(e(y),{modelValue:e(o).currentId,options:x.value,onChange:t[0]||(t[0]=r=>e(g)(r))},null,8,["modelValue","options"]),n(e(C),{type:"info",onClick:t[1]||(t[1]=r=>e(v)())},{default:V(()=>[...t[2]||(t[2]=[D("创建新对话",-1)])]),_:1})])],64))}}),q=M(j,[["__scopeId","data-v-ce4da405"]]);export{q as default};
