import{j as R,A as j,D as z,k as G,E as L,S as T,F as b}from"./theme.DQAVnTL2.js";import{d as q,p as n,q as _,h as H,c as O,o as y,j as t,G as u,w as v,k as a,F as M,B as J,b as K,N as Q,a as W,t as X,_ as Y}from"./framework.DeWfoKqf.js";const Z={class:"pills-container"},ee={style:{display:"flex","flex-direction":"column",gap:"10px"}},le={style:{display:"flex","align-items":"center",gap:"10px"}},te={style:{display:"flex","align-items":"center",gap:"10px"}},oe={style:{display:"flex","align-items":"center",gap:"10px"}},ne=q({__name:"pills-popper",setup(se){const d=n(!1),B=n(),m=n(null),x=n(null),w=n("hover"),S=n([{label:"hover",value:"hover"},{label:"always",value:"always"}]),h=n("expand"),N=n([{label:"expand",value:"expand"},{label:"scroll",value:"scroll"}]),g=n(void 0),U=n([{label:"none",value:void 0},{label:"click",value:"click"},{label:"mouseenter",value:"mouseenter"}]),E=n([{id:"1",text:"去续费"},{id:"2",text:"去退订"},{id:"3",text:"查账单"},{id:"4",text:"导账单"},{id:"5",text:"对帐单"}]),I=o=>{var l;r.value.forEach((s,i)=>{r.value[i]=!1});const e=o.composedPath();e.some(s=>s instanceof HTMLElement&&s.matches("ul.tr-dropdown-menu__list"))||e.includes((l=B.value)==null?void 0:l.$el)||m.value&&e.includes(m.value)||x.value&&e.includes(x.value)||(d.value=!1)},$=o=>{console.log("DropdownMenu item clicked,",o)},C=[{text:"资源管理1"},{text:"资源管理2"},{text:"资源管理3"},{text:"资源管理4"},{text:"资源管理5"},{text:"资源管理6"},{text:"资源管理7"}],p=n(structuredClone(C)),r=n([]);_(()=>p.value.length,o=>{r.value=Array.from({length:o},()=>!1)},{immediate:!0});const D=()=>{p.value.push({text:"新增按钮"})},P=()=>{p.value.pop()},F=()=>{p.value=structuredClone(C)},f=n(),A=H(()=>{var s;const o=(s=f.value)==null?void 0:s.$el;if(!o)return{left:"0px",right:"100%"};const{left:e,right:l}=o.getBoundingClientRect();return{left:`${e}px`,right:`${l}px`}});return _(()=>{var o,e;return[(o=f.value)==null?void 0:o.$el,(e=f.value)==null?void 0:e.children.map(l=>l)]},([o,e],l,s)=>{if(!o||!Array.isArray(e)||e.length===0)return;const i=new IntersectionObserver(c=>{c.forEach(V=>{if(!V.isIntersecting){const k=Number(V.target.dataset.index);typeof k=="number"&&!isNaN(k)&&(r.value[k]=!1)}})},{root:o,threshold:.99});e.forEach(c=>c&&i.observe(c)),s(()=>{i.disconnect()})},{flush:"post"}),(o,e)=>(y(),O(M,null,[t("div",Z,[u(a(z),{data:[]},{trigger:v(()=>[u(a(R),null,{icon:v(()=>[u(a(j),{style:{"font-size":"16px",color:"#1476ff"}})]),_:1})]),_:1}),u(a(L),{class:"pills",ref_key:"pillsRef",ref:f,showAll:d.value,"onUpdate:showAll":e[0]||(e[0]=l=>d.value=l),"show-all-button-on":w.value,"overflow-mode":h.value,"auto-scroll-on":g.value,onClickOutside:I},{default:v(()=>[(y(!0),O(M,null,J(p.value,(l,s)=>(y(),K(a(G),{items:E.value,style:Q({"--tr-dropdown-menu-min-left":A.value.left,"--tr-dropdown-menu-max-right":A.value.right}),onItemClick:$,key:s,show:r.value[s],"onUpdate:show":i=>r.value[s]=i,trigger:"click"},{trigger:v(()=>[u(a(R),{"data-index":s},{default:v(()=>[W(X(l.text),1)]),_:2},1032,["data-index"])]),_:2},1032,["items","style","show","onUpdate:show"]))),128))]),_:1},8,["showAll","show-all-button-on","overflow-mode","auto-scroll-on"])]),e[9]||(e[9]=t("hr",null,null,-1)),e[10]||(e[10]=t("span",null,"点击第一个图标会打开Popover弹出框",-1)),e[11]||(e[11]=t("hr",null,null,-1)),t("div",ee,[t("div",null,[e[5]||(e[5]=t("label",null,"showAll：",-1)),u(a(T),{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),ref_key:"showAllRef",ref:B},null,8,["modelValue"])]),t("div",null,[e[6]||(e[6]=t("label",null,"showAllButtonOn：",-1)),u(a(b),{modelValue:w.value,"onUpdate:modelValue":e[2]||(e[2]=l=>w.value=l),options:S.value},null,8,["modelValue","options"])]),t("div",le,[e[7]||(e[7]=t("label",null,"overflowMode：",-1)),u(a(b),{modelValue:h.value,"onUpdate:modelValue":e[3]||(e[3]=l=>h.value=l),options:N.value},null,8,["modelValue","options"])]),t("div",te,[e[8]||(e[8]=t("label",null,"autoScrollOn：",-1)),u(a(b),{modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=l=>g.value=l),options:U.value},null,8,["modelValue","options"])]),t("div",oe,[t("button",{ref_key:"addButtonRef",ref:m,onClick:D},"点我增加按钮",512),t("button",{ref_key:"removeButtonRef",ref:x,onClick:P},"点我删除按钮",512),t("button",{onClick:F},"点我重置按钮")])])],64))}}),re=Y(ne,[["__scopeId","data-v-1372a61c"]]);export{re as default};
