import{h as f,F as J,p as w,q as N,d as P,v as D,P as F,af as O,aF as T,$ as G,a1 as K,aO as L,b as S,G as U,K as B,o as A,k as E,H as Z,ay as Q,w as W,c as X,e as Y,r as ee,aM as oe,aN as te,T as re}from"./framework.DrGfhPAt.js";import{S as q,q as se,J as ae}from"./index2.BzGNBP-0.js";import{e as b}from"./utils.nxwM3ABj.js";import{s as C}from"./plugin-vue_export-helper.lGy7RumW.js";function ne(s,n){const e=f(()=>{const a=(s==null?void 0:s())||[];let u=0;const d=r=>typeof r=="symbol"||r==null?r:`fg${u}-${r}`;return a.map(r=>{if(r.type===J&&Array.isArray(r.children)){for(const m of r.children)m&&typeof m=="object"&&"key"in m&&(m.key=d(m.key));return u++,r.children}return r}).flat()}),o=f(()=>n?e.value.length:1),l=f(()=>e.value.slice(0,o.value)),p=w([]),v=(a,u)=>{const d=q(a);d instanceof Element&&(p.value[u]=d)};return N(o,a=>{p.value.length=a},{flush:"post"}),{vnodes:l,ref:f(()=>p.value.at(0)),refs:p,setRef:a=>v(a,0),setRefs:v}}const le=P({setup:s=>()=>O(Q,s.propsFactory(),s.vnodeFactory()),props:["propsFactory","vnodeFactory"]});function pe(s,n){let e=null,o=null,l=!1;D(()=>{F(()=>{l||(o=document.createElement("div"),e=O(le,{propsFactory:s,vnodeFactory:n}),T(e,o))})}),G(()=>{l=!0,F(()=>{o&&(T(null,o),o.remove(),e=null,o=null)})})}function ue(s,n){return f(()=>{var e;if(n instanceof HTMLElement)return n;const o=n,l=q(s),p=(e=l==null?void 0:l.getRootNode)==null?void 0:e.call(l),v=p instanceof ShadowRoot,a=v?p:document.body;if(o){if(!v&&o==="body")return document.body;const u=a.querySelector(o);if(u instanceof Node)return u}return a})}const ie=P({__name:"Popper",props:{show:{type:Boolean},transitionProps:{}},setup(s,{expose:n}){const e=w(null);return n({popperRef:e}),(o,l)=>(A(),S(re,oe(te(o.transitionProps)),{default:W(()=>[o.show?(A(),X("div",{key:0,class:"tr-base-popper",ref_key:"popperRef",ref:e},[ee(o.$slots,"default",{},void 0,!0)],512)):Y("",!0)]),_:3},16))}}),ce=C(ie,[["__scopeId","data-v-25c13ab7"]]),fe=P({inheritAttrs:!1,__name:"index",props:{appendTo:{},offset:{},placement:{default:"top-center"},preventOverflow:{type:Boolean},show:{type:Boolean},transitionProps:{},triggerEvents:{}},setup(s,{expose:n}){const e=s,o=K(),{vnodes:l,ref:p,setRef:v}=ne(o.trigger),a=(t={})=>{const i={};for(const[y,c]of Object.entries(t))/^on[A-Z]/.test(y)&&typeof c=="function"&&(i[y]=c);return i},u=w(null),d=f(()=>{var t;return((t=u.value)==null?void 0:t.popperRef)||null}),r=f(()=>{var t,i;return typeof e.offset=="number"?{mainAxis:e.offset,crossAxis:0}:{mainAxis:((t=e.offset)==null?void 0:t.mainAxis)??0,crossAxis:((i=e.offset)==null?void 0:i.crossAxis)??0}}),{top:m,bottom:M,left:R,right:H,width:I,update:$}=se(p),{width:g,height:k}=ae(d,void 0,{box:"border-box"}),V=f(()=>{const{placement:t,preventOverflow:i}=e,y={},c=(h,x)=>{if(!i){y[h]=x;return}const _=b(h==="top"?k.value:g.value);h==="top"?y[h]=`clamp(var(--tr-base-popper-min-top), ${x}, calc(var(--tr-base-popper-max-bottom) - ${_}))`:h==="left"&&(y[h]=`clamp(var(--tr-base-popper-min-left), ${x}, calc(var(--tr-base-popper-max-right) - ${_}))`)};return t.includes("top")&&c("top",b(m.value-k.value-r.value.mainAxis)),t.includes("bottom")&&c("top",b(M.value+r.value.mainAxis)),t.includes("left")&&c("left",b(R.value+r.value.crossAxis)),t.includes("right")&&c("left",b(H.value-g.value+r.value.crossAxis)),t.includes("center")&&c("left",b(R.value+I.value/2-g.value/2+r.value.crossAxis)),y});N(()=>e.show,t=>{t&&$()},{flush:"post"});const j=ue(p,e.appendTo),z=L();return pe(()=>({to:j.value}),()=>U(ce,B({ref:u,show:e.show,transitionProps:e.transitionProps,style:V.value},z),{default:()=>{var t;return[(t=o.content)==null?void 0:t.call(o)]}})),n({triggerRef:p,popperRef:d,update:$}),(t,i)=>(A(),S(Z(E(l)[0]),B({ref:E(v)},a(e.triggerEvents)),null,16))}}),ve=C(fe,[["__scopeId","data-v-f1e25842"]]);ve.name="TrBasePopper";export{pe as a,ne as b,ue as c,ve as f};
