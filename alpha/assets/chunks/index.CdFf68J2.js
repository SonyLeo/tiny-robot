import{d as $,b as T,l as B,j as L,f as M,g as j}from"./index.DHtMHeZQ.js";import{i as N}from"./loading-shadow.BiLqD-EG.js";import{C as E,c as o,o as l,j as f,e as n,r as i,a as m,n as d,b as D,Z as v,t as g}from"./framework.DrGfhPAt.js";const P=({emit:e,props:t,state:a})=>s=>{if(s.preventDefault(),a.disabled||t.types==="loading")return;const u=()=>{a.currentValue=a.currentValue===t.trueValue?t.falseValue:t.trueValue,e("update:modelValue",a.currentValue),e("change",a.currentValue)};t.beforeChange?t.beforeChange(u):u()},H=({prefixCls:e,props:t,state:a})=>()=>[{[e]:!0,[`${e}-checked`]:a.currentValue===t.trueValue,[`${e}-disabled`]:a.disabled,mini:t.mini,disabled:a.disabled}],R=({prefixCls:e})=>()=>`${e}-inner`,X=({props:e,state:t})=>()=>({backgroundColor:e.trueValue===t.currentValue?e.trueColor:e.falseColor}),A=["toggle","state"],F=(e,{computed:t,watch:a,reactive:s,inject:u},{parent:r,constants:c,mode:b,emit:w,designConfig:C})=>{const z=c.prefixcls(b);r.tinyForm=r.tinyForm||u("form",null);const h=s({currentValue:e.modelValue,innerClasses:t(()=>p.computedInnerClasses()),wrapClasses:t(()=>p.computedWarpClasses()),style:t(()=>p.computedStyle()),formDisabled:t(()=>(r.tinyForm||{}).disabled),disabled:t(()=>e.disabled||h.formDisabled||h.isDisplayOnly||e.loading),isDisplayOnly:t(()=>e.displayOnly||(r.tinyForm||{}).displayOnly),showText:t(()=>e.showText===void 0?(C==null?void 0:C.showText)||!1:e.showText)}),p={state:h,computedInnerClasses:R({prefixCls:z}),computedStyle:X({props:e,state:h}),computedWarpClasses:H({prefixCls:z,props:e,state:h}),toggle:P({emit:w,props:e,state:h})};return a(()=>e.modelValue,S=>{h.currentValue=typeof e.falseValue!="boolean"||typeof e.trueValue!="boolean"?S:!!S},{immediate:!0}),p};function K(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=W(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(e,t){if(e){if(typeof e=="string")return k(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(e,t):void 0}}function k(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}var U=function(t,a){for(var s=t.__vccOpts||t,u=K(a),r;!(r=u()).done;){var c=r.value,b=c[0],w=c[1];s[b]=w}return s},Y=$({emits:["change","update:modelValue"],props:[].concat(B,["modelValue","trueValue","falseValue","disabled","mini","tabindex","showText","beforeChange","displayOnly","loading"]),components:{IconLoading:N()},setup:function(t,a){return T({props:t,context:a,renderless:F,api:A})}}),Z=["tabindex"],q={key:0},G={class:"tiny-switch__button"},J={key:1};function Q(e,t,a,s,u,r){var c=E("icon-loading");return e.state.isDisplayOnly?(l(),o("span",J,[e.state.currentValue===e.trueValue?i(e.$slots,"open",{key:0},function(){return[m(g(e.t("yes")),1)]}):n("v-if",!0),e.state.currentValue===e.falseValue?i(e.$slots,"close",{key:1},function(){return[m(g(e.t("no")),1)]}):n("v-if",!0)])):(l(),o("span",{key:0,class:d([e.state.wrapClasses,e.state.showText?"tiny-switch__text":""]),tabindex:e.tabindex,onClick:t[0]||(t[0]=function(){return e.toggle&&e.toggle.apply(e,arguments)}),onKeydown:[t[1]||(t[1]=v(function(){return e.toggle&&e.toggle.apply(e,arguments)},["space"])),t[2]||(t[2]=v(function(){return e.toggle&&e.toggle.apply(e,arguments)},["enter"]))]},[f("span",{class:d(e.state.innerClasses)},[!e.mini&&e.state.showText&&!e.loading?(l(),o("div",q,[e.state.currentValue===e.trueValue?i(e.$slots,"open",{key:0},function(){return[m("ON")]}):n("v-if",!0),e.state.currentValue===e.falseValue?i(e.$slots,"close",{key:1},function(){return[m("OFF")]}):n("v-if",!0)])):n("v-if",!0)],2),f("span",G,[e.loading?(l(),D(c,{key:0,class:d([e.state.currentValue===e.trueValue?"tiny-switch__on-loading":"tiny-switch__off-loading",e.mini?"tiny-switch__loading-size":""])},null,8,["class"])):n("v-if",!0),e.state.currentValue===e.trueValue&&!e.loading?i(e.$slots,"active-icon",{key:1}):n("v-if",!0),e.state.currentValue===e.falseValue&&!e.loading?i(e.$slots,"inactive-icon",{key:2}):n("v-if",!0)])],42,Z))}var O=U(Y,[["render",Q]]);function _(e,t){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=x(e))||t){a&&(e=a);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(e,t){if(e){if(typeof e=="string")return I(e,t);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?I(e,t):void 0}}function I(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,s=Array(t);a<t;a++)s[a]=e[a];return s}var ee=function(t,a){for(var s=t.__vccOpts||t,u=_(a),r;!(r=u()).done;){var c=r.value,b=c[0],w=c[1];s[b]=w}return s},te={"switch-default":"inline-block align-middle transition-all duration-200 ease-in-out rounded-full relative outline-0","switch-small":"w-10 h-6 sm:w-9 sm:h-5","switch-mini":"w-8 h-5 sm:w-7 sm:h-4","switch-medium":"w-10 h-6","switch-handle-default":'before:content-[""] before:rounded-full before:bg-color-bg-1 before:absolute before:cursor-pointer before:transition-all before:duration-200 before:ease-in-out before:text-center before:top-0.5',"switch-handle-small":"before:w-5 before:h-5 before:sm:w-4 before:sm:h-4","switch-handle-mini":"before:w-4 before:h-4 before:sm:w-3 before:sm:h-3","switch-handle-medium":"before:w-5 before:h-5","switch-true-disabled":"bg-color-brand-disabled cursor-not-allowed","switch-false-disabled":"bg-color-border-separator cursor-not-allowed","switch-true-not-disabled":"before:[&_span:nth-of-type(1)]:shadow-xsm bg-color-brand cursor-pointer","switch-false-not-disabled":"before:[&_span:nth-of-type(1)]:shadow-xsm bg-color-icon-disabled cursor-pointer","switch-handle-false-small":"before:left-0.5","switch-handle-false-medium":"before:left-0.5","switch-handle-false-mini":"before:left-0.5","switch-handle-false-small-disabled":"before:left-0.5","switch-handle-false-medium-disabled":"before:left-0.5","switch-handle-false-mini-disabled":"before:left-0.5","switch-handle-true-small":"before:left-4.5","switch-handle-true-medium":"before:left-4.5","switch-handle-true-mini":"before:left-3.5","switch-handle-true-small-disabled":"before:left-4.5","switch-handle-true-medium-disabled":"before:left-4.5","switch-handle-true-mini-disabled":"before:left-3.5","switch-inner-default":"absolute transition-all duration-200 ease-in-out text-color-bg-1 flex items-center justify-center top-0.5","switch-inner-small":"w-5 h-5 sm:w-4 sm:h-4","switch-inner-mini":"w-4 h-4 sm:w-3 sm:h-3","switch-inner-medium":"w-5 h-5","switch-inner-true-word":"left-px","switch-inner-false-small-word":"left-4.5","switch-inner-false-medium-word":"left-4.5","switch-inner-false-mini-word":"left-3.5","switch-inner-false-icon":"left-0.5","switch-inner-true-small-icon":"left-4.5","switch-inner-true-medium-icon":"left-4.5","switch-inner-true-mini-icon":"left-3.5","switch-icon-small":"w-4 h-4 sm:w-3 sm:h-3","switch-icon-medium":"w-4 h-4","switch-icon-mini":"w-3 h-3 sm:w-2 sm:h-2","switch-icon-false-disabled":"fill-color-border-separator","switch-icon-false-default":"fill-color-icon-disabled","switch-icon-true-disabled":"fill-color-brand-disabled","switch-icon-true-default":"fill-color-brand","switch-loading-small":"w-5 h-5 sm:w-4 sm:h-4","switch-loading-medium":"w-5 h-5","switch-loading-mini":"w-4 h-4 sm:w-3 sm:h-3 "},ae=$({emits:["change","update:modelValue"],props:[].concat(B,["modelValue","trueValue","falseValue","disabled","size","tabindex","types"]),setup:function(t,a){return T({props:t,context:a,renderless:F,api:A,classes:te})}}),se=["tabindex"],ne={key:0,"data-tag":"tiny-switch-word",class:"sm:text-xs text-sm"},re={key:1,"data-tag":"tiny-switch-icon"},le=f("path",{d:"M9.9 15.6l9.4-9.4c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4l-10 10.1c-.4.4-1 .4-1.4 0-.1 0-.1-.1-.2-.1l-5.8-5.8c-.4-.4-.4-1 0-1.4.4-.4 1-.4 1.4 0l5.2 5.2z"},null,-1),ie=[le],oe=f("path",{d:"M13.4 12l6.3-6.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L12 10.6 5.7 4.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l6.3 6.3-6.3 6.3c-.4.4-.4 1 0 1.4.2.2.4.3.7.3.3 0 .5-.1.7-.3l6.3-6.3 6.3 6.3c.2.2.4.3.7.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L13.4 12z"},null,-1),ue=[oe],de={key:2,"data-tag":"tiny-switch-loading"},fe=f("path",{d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z",transform:"rotate(275.098 75 75)"},[f("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"1s",repeatCount:"indefinite"})],-1),ce=[fe],he=f("path",{d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z",transform:"rotate(275.098 75 75)"},[f("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"1s",repeatCount:"indefinite"})],-1),me=[he];function be(e,t,a,s,u,r){return l(),o("span",{class:d(e.m(e.gcls("switch-default"),e.gcls("switch-"+(e.size?e.size:"small")),e.gcls((e.state.currentValue===e.trueValue?"switch-true":"switch-false")+(e.state.disabled||e.types==="loading"?"-disabled":"-not-disabled")))),"data-tag":"tiny-switch",tabindex:e.tabindex,onClick:t[0]||(t[0]=function(){return e.toggle&&e.toggle.apply(e,arguments)}),onKeydown:t[1]||(t[1]=v(function(){return e.toggle&&e.toggle.apply(e,arguments)},["space"]))},[f("span",{"data-tag":"tiny-switch-handle",class:d(e.m(e.gcls("switch-handle-default"),e.gcls("switch-handle-"+(e.size?e.size:"small")),e.gcls(e.state.currentValue===e.trueValue?"switch-handle-true-"+(e.size?e.size:"small")+(e.state.disabled||e.types==="loading"?"-disabled":""):"switch-handle-false-"+(e.size?e.size:"small")+(e.state.disabled||e.types==="loading"?"-disabled":""))))},null,2),f("span",{"data-tag":"tiny-switch-inner",class:d(e.m(e.gcls("switch-inner-default"),e.gcls("switch-inner-"+(e.size?e.size:"small")),e.gcls(e.state.currentValue===e.trueValue?e.types==="word"?"switch-inner-true-word":"switch-inner-true-"+(e.size?e.size:"small")+"-icon":e.types==="word"?"switch-inner-false-"+(e.size?e.size:"small")+"-word":"switch-inner-false-icon")))},[e.types==="word"?(l(),o("div",ne,[e.state.currentValue===e.trueValue?i(e.$slots,"open",{key:0},function(){return[m(g(e.t("yes")),1)]}):n("v-if",!0),e.state.currentValue===e.falseValue?i(e.$slots,"close",{key:1},function(){return[m(g(e.t("no")),1)]}):n("v-if",!0)])):n("v-if",!0),e.types==="icon"?(l(),o("div",re,[e.state.currentValue===e.trueValue?i(e.$slots,"open",{key:0},function(){return[(l(),o("svg",{viewBox:"0 0 24 24",class:d([e.gcls("switch-icon-"+(e.size?e.size:"small")),e.gcls("switch-icon-true-"+(e.state.disabled?"disabled":"default"))])},ie,2))]}):n("v-if",!0),e.state.currentValue===e.falseValue?i(e.$slots,"close",{key:1},function(){return[(l(),o("svg",{viewBox:"0 0 24 24",class:d([e.gcls("switch-icon-"+(e.size?e.size:"small")),e.gcls("switch-icon-false-"+(e.state.disabled?"disabled":"default"))])},ue,2))]}):n("v-if",!0)])):n("v-if",!0),e.types==="loading"?(l(),o("div",de,[e.state.currentValue===e.trueValue?i(e.$slots,"open",{key:0},function(){return[(l(),o("svg",{viewBox:"0 0 48 48",class:d([e.gcls("switch-loading-"+(e.size?e.size:"small")),e.gcls("switch-icon-true-disabled")])},ce,2))]}):n("v-if",!0),e.state.currentValue===e.falseValue?i(e.$slots,"close",{key:1,dataTag:"tiny-switch-close"},function(){return[(l(),o("svg",{viewBox:"0 0 48 48",class:d([e.gcls("switch-loading-"+(e.size?e.size:"small")),e.gcls("switch-icon-false-disabled")])},me,2))]}):n("v-if",!0)])):n("v-if",!0)],2)],42,se)}var we=ee(ae,[["render",be]]),ye={};function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},V.apply(null,arguments)}var pe=function(t){var a,s=typeof process=="object"?(a=ye)==null?void 0:a.TINY_MODE:null;return(s||t)==="pc"?O:(s||t)==="mobile-first"?we:O},ge={PC_PREFIXCLS:"tiny-switch",MOBILE_PREFIXCLS:"tiny-mobile-switch",Mode:"pc",prefixcls:function(t){return t===this.Mode?this.PC_PREFIXCLS:this.MOBILE_PREFIXCLS}},ve=V({},j,{_constants:{type:Object,default:function(){return ge}},disabled:{type:Boolean,default:!1},showText:{type:Boolean||void 0,default:void 0},types:{type:String},falseColor:String,falseValue:{type:[String,Number,Boolean],default:!1},mini:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean],default:!1},size:[Number,String],tabindex:{type:String,default:"1"},trueColor:String,trueValue:{type:[String,Number,Boolean],default:!0},beforeChange:Function,displayOnly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}}),y=$({name:M+"Switch",props:ve,setup:function(t,a){return L({props:t,context:a,template:pe})}}),Ve="3.undefined";y.model={prop:"modelValue",event:"update:modelValue"};y.install=function(e){e.component(y.name,y)};y.version=Ve;export{y as S};
