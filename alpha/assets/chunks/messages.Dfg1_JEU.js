import{R as w,I as v,L as M}from"./index.DK1_8fsF.js";import{w as T}from"./tiny-robot-svgs.BbDZZ-ON.js";import{d as _,af as i,aQ as u,p as S,c as W,o as N,G as d,j as n,w as R,k as l,F as D}from"./framework.DrGfhPAt.js";import"./loading.CaA-rOal.js";import"./utils.nxwM3ABj.js";import"./index2.BzGNBP-0.js";import"./plugin-vue_export-helper.lGy7RumW.js";const a="已获取到西安明天（2025年5月31日）的天气，最高温度28℃，最低温度17℃，有小雨。下一步，使用高德地图的文本搜索工具查找西安适合游玩的地点。",V=_({__name:"messages",setup(O){const m=i(T,{style:{fontSize:"32px"}}),p=t=>{const{content:e,...o}=t;return i("div",{style:{color:"red",fontStyle:"italic"},...o},e)},f=new w({defaultAttrs:{class:"markdown-content"}}),g={"custom-text":p,markdown:f},r=u({type:"tool",name:"DayWeather（工具渲染器）",status:"running"}),c=u({type:"collapsible-text",title:"思考过程（折叠消息渲染器）",content:a}),s=S([{type:"text",content:"我使用默认的文本渲染器（组件渲染器）",style:{fontWeight:"bold",color:"green"},"data-id":"test-id-1",onClick:()=>{alert("点击了文本消息")}},{type:"custom-text",content:"我使用自定义的文本渲染器（函数渲染器）",id:"custom-text-id"},{type:"markdown",content:"# 我使用Markdown渲染器（类渲染器）",id:"markdown-id"},{type:"tool",name:"DayWeather（工具渲染器）",status:"success",content:JSON.stringify({string:"hello",number:123,boolean:!0,null:null,object:{a:1}}),formatPretty:!0,defaultOpen:!0},r,{type:"tool",name:"DayWeather（工具渲染器）",status:"failed"},{type:"tool",name:"DayWeather（工具渲染器）",status:"cancelled"},c]),y=()=>{s.value.push({type:"collapsible-text",title:"思考过程",content:a})},k=()=>{r.status=r.status==="running"?"success":"running"},x=()=>{c.content="";for(let t=0;t<a.length;t+=1)setTimeout(()=>{c.content+=a[t]},t*100)},h=()=>{const t=s.value.find(e=>e.type==="custom-text");t&&(t.content+="123")},C=()=>{const t=s.value.find(e=>e.type==="markdown");t&&(t.content+="123")},b=()=>{var e;const t=s.value.find(o=>o.type==="tool");if(t&&(e=t.content)!=null&&e.startsWith("{")){const o=JSON.parse(t.content);t.content=JSON.stringify({...o,number:o.number+1})}};return(t,e)=>(N(),W(D,null,[d(l(M),{"content-renderers":g},{default:R(()=>[d(l(v),{content:s.value,avatar:l(m),placement:"start"},null,8,["content","avatar"])]),_:1}),e[0]||(e[0]=n("hr",null,null,-1)),n("div",{style:{display:"flex","flex-direction":"column","align-items":"flex-start",gap:"8px"}},[n("button",{onClick:h},"修改自定义文本内容"),n("button",{onClick:C},"修改Markdown内容"),n("button",{onClick:b},"修改工具内容(给number加1)"),n("button",{onClick:y},"添加消息"),n("button",{onClick:x},"设置思考过程"),n("button",{onClick:k},"切换工具状态")])],64))}});export{V as default};
